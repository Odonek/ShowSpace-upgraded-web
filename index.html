<!doctype html>
<html lang="cs">
<head>
  <meta charset="utf-8">
  <title>ShowSpace ‚Äì Virtu√°ln√≠ prohl√≠dky</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Marketing, soci√°ln√≠ s√≠tƒõ, focen√≠ a rychl√© weby.">
  <link href="https://fonts.googleapis.com/css2?family=Funnel+Display:wght@300;500;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
  <!-- Favicon -->
<link rel="icon" type="image/png" href="favicon.png">
<link rel="shortcut icon" type="image/png" href="favicon.png">

<!-- (voliteln√©, ale doporuƒçen√©) iOS/Android ikona a barva li≈°ty -->
<link rel="apple-touch-icon" href="favicon.png">
<meta name="theme-color" content="#415A77">

</head>
<body>

<!-- NAVBAR -->
<nav>
  <div class="container nav-inner">
    <a class="logo" href="index.html">
      <img src="logonahoruvlevo1.png" alt="ShowSpace logo">
    </a>

    <div class="menu">
      <a href="index.html" aria-current="page">Dom≈Ø</a>

      <!-- ‚ÄûSlu≈æby‚Äú ‚Äì stejn√© rozmƒõry jako ostatn√≠ -->
      <div class="menu-item--has-sub">
        <button class="menu-toggle" type="button" aria-expanded="false" aria-controls="submenu-sluzby">
          Slu≈æby
          <svg class="menu-caret" viewBox="0 0 24 24" aria-hidden="true"><path d="M7 10l5 5 5-5z"></path></svg>
        </button>
        <div id="submenu-sluzby" class="submenu" role="menu" aria-label="Podnab√≠dka Slu≈æby">
          <a href="sluzby.html#sluzba-prohlidky" role="menuitem">Virtu√°ln√≠ prohl√≠dky</a>
          <a href="sluzby.html#sluzba-marketing" role="menuitem">Marketing</a>
          <a href="sluzby.html#sluzba-social" role="menuitem">Soci√°ln√≠ s√≠tƒõ</a>
          <a href="sluzby.html#sluzba-web" role="menuitem">Tvorba webu</a>
        </div>
      </div>

      <a href="galerie.html">Galerie</a>
    </div>

    <div class="nav-right">
      <div class="nav-social">
        <a href="https://facebook.com/showspace" target="_blank" aria-label="Facebook">
          <svg viewBox="0 0 24 24"><path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2c0-2 1.2-3 3-3 .9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.5l-.4 3h-2.1v7A10 10 0 0 0 22 12"/></svg>
        </a>
        <a href="https://www.instagram.com/showspace.cz/" target="_blank" aria-label="Instagram">
          <svg viewBox="0 0 24 24"><path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6-1.8a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4z"/></svg>
        </a>
        <a href="https://www.tiktok.com/@show.space360" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
          <svg viewBox="0 0 24 24" width="20" height="20" fill="currentColor" aria-hidden="true">
            <path d="M21 8.5a7.5 7.5 0 0 1-4.6-1.6v7.6a5.5 5.5 0 1 1-5.5-5.5c.2 0 .4 0 .6.1v2.6a2.9 2.9 0 1 0 2.9 2.9V2h2.2c.3 1.2 1 2.3 1.9 3.1A5.3 5.3 0 0 0 21 6.5v2z"/>
          </svg>
        </a>
      </div>
      <a href="#kontakt" class="btn btn--accent">Kontakt</a>
    </div>
  </div>
</nav>

<!-- HERO -->
<header class="hero">
  <div class="hero-media">
    <video autoplay muted loop playsinline>
      <source src="mrdat.mp4" type="video/mp4">
      V√°≈° prohl√≠≈æeƒç nepodporuje video.
    </video>
    <div class="hero-overlay"></div>
  </div>

  <div class="container">
    <div class="hero-card">
      <h1>Prod√°vejte d≈ô√≠v, ne≈æ klient vstoup√≠</h1>
      <p>Virtu√°ln√≠ prohl√≠dky, kter√© zaujmou a p≈ôivedou z√°kazn√≠ky.</p>
      <a href="#kontakt" class="btn btn--accent btn-cta">Chci nez√°vaznou popt√°vku</a>
    </div>
  </div>
</header>

<!-- BENEFITY -->
<section id="benefity" class="section">
  <div class="container benefits-center">
    <div class="card benefit big">
      <div class="benefit-icon">‚è±</div>
      <div class="benefit-number"><span class="counter" data-target="100">0</span>%</div>
      <h3>√öspora ƒçasu</h3>
      <p>Va≈°i klienti si projdou prostor online a vy ≈°et≈ô√≠te hodiny pr√°ce.</p>
    </div>
    <div class="card benefit big">
      <div class="benefit-icon">üìà</div>
      <div class="benefit-number"><span class="counter" data-target="87">0</span>%</div>
      <h3>Lep≈°√≠ viditelnost</h3>
      <p>Marketing a obsah zvy≈°uj√≠ dosah i z√°jem.</p>
    </div>
    <div class="card benefit big">
      <div class="benefit-icon">‚≠ê</div>
      <div class="benefit-number">+<span class="counter" data-target="40">0</span>%</div>
      <h3>V√≠ce d≈Øvƒõry</h3>
      <p>Jasn√° prezentace vede k v√≠ce rezervac√≠m a popt√°vk√°m.</p>
    </div>
  </div>
</section>

<!-- VTOUR (full-screen, loop) -->
<section id="vtour" aria-label="Virtu√°ln√≠ prohl√≠dky">
  <div class="vt-overlay"></div>

  <div class="container vt-grid">
    <div class="vt-copy" id="vt-copy">
      <span class="tag">Virtu√°ln√≠ prohl√≠dky</span>
      <h2 id="vt-title">Houseboat Praha</h2>
      <p class="lead" id="vt-desc">
        V≈ædy vid√≠≈° t≈ôi projekty. Dal≈°√≠ zobraz√≠≈° ≈°ipkami. Kliknut√≠m na kartu se otev≈ôe prohl√≠dka v nov√© z√°lo≈æce.
        Pozad√≠ se mƒõn√≠ podle prost≈ôedn√≠ karty.
      </p>
      <p>
        <a class="btn btn--accent" id="vt-link"
           href="https://tour.giraffe360.com/houseboat-prague-vltava/"
           target="_blank" rel="noopener">Otev≈ô√≠t uk√°zkovou prohl√≠dku</a>
        <a class="btn btn--outline" href="#kontakt">Chci nab√≠dku</a>
      </p>
    </div>

    <div class="vt-media">
      <div class="vt-viewport">
        <div class="vt-strip">
          <!-- 8 karet (obsah stejn√Ω jako d≈ô√≠v) -->
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL001.jpg" data-title="Houseboat Praha"
             data-desc="Kompletn√≠ 3D tour ‚Äì prohl√©dni si houseboat online."
             href="https://premium.giraffe360.com/bondoxboroughphillips/accd62f7fd354a0e8a952f3703a9f123/?_gl=1*1crnra7*_gcl_au*MjEzMzExOTcwNi4xNzU3NTE3Njk4" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL001.jpg" alt="Houseboat Praha"><div class="vt-meta"><strong>Houseboat Praha</strong><span>Virtu√°ln√≠ prohl√≠dka</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL002.jpg" data-title="Interi√©r ‚Äì ob√Ωvac√≠ ƒç√°st"
             data-desc="Uk√°zka detailu interi√©ru ‚Äì ozvuƒçen√≠ a materi√°ly."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL002.jpg" alt="Interi√©r 1"><div class="vt-meta"><strong>Interi√©r 1</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL003.jpg" data-title="Interi√©r ‚Äì denn√≠ z√≥na"
             data-desc="Prostorn√° denn√≠ ƒç√°st houseboatu s v√Ωstupem na palubu."
             href="https://premium.giraffe360.com/bondoxboroughphillips/accd62f7fd354a0e8a952f3703a9f123/?_gl=1*1crnra7*_gcl_au*MjEzMzExOTcwNi4xNzU3NTE3Njk4" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL003.jpg" alt="Interi√©r 2"><div class="vt-meta"><strong>Interi√©r 2</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL004.jpg" data-title="Detail ‚Äì materi√°ly"
             data-desc="Z√°bƒõry na detaily a povrchy ‚Äì kvalita na prvn√≠ pohled."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL004.jpg" alt="Detail"><div class="vt-meta"><strong>Detail</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL005.jpg" data-title="Exteri√©r ‚Äì paluba"
             data-desc="V√Ωhled z paluby a napojen√≠ na okol√≠ ‚Äì atmosf√©ra m√≠sta."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL005.jpg" alt="Exteri√©r"><div class="vt-meta"><strong>Exteri√©r</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL006.jpg" data-title="Lo≈ænice"
             data-desc="Noƒçn√≠ z√≥na ‚Äì svƒõtlo, √∫lo≈æn√© prostory a pohodl√≠."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL006.jpg" alt="Lo≈ænice"><div class="vt-meta"><strong>Lo≈ænice</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL007.jpg" data-title="Salon"
             data-desc="Hlavn√≠ spoleƒçensk√Ω prostor ‚Äì propojen√≠ s exteri√©rem."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL007.jpg" alt="Salon"><div class="vt-meta"><strong>Salon</strong><span>Uk√°zka z tour</span></div>
          </a>
          <a class="vt-card" data-bg="CAM05637G0-PR0005-STILL003.jpg" data-title="Kuchynƒõ"
             data-desc="Plnƒõ vybaven√° kuchy≈à ‚Äì praktiƒçnost i design."
             href="https://tour.giraffe360.com/houseboat-prague-vltava/" target="_blank" rel="noopener">
            <img src="CAM05637G0-PR0005-STILL003.jpg" alt="Kuchynƒõ"><div class="vt-meta"><strong>Kuchynƒõ</strong><span>Uk√°zka z tour</span></div>
          </a>
        </div>
      </div>

      <div class="vt-controls">
        <button class="vt-arrow vt-prev" aria-label="P≈ôedchoz√≠">‚Äπ</button>
        <button class="vt-arrow vt-next" aria-label="Dal≈°√≠">‚Ä∫</button>
      </div>
    </div>
  </div>
</section>

<!-- O N√ÅS -->
<section id="o-nas" class="section">
  <div class="container grid grid-2 about">
    <div class="text">
      <span class="tag">O n√°s</span>
      <h2>Jsme ShowSpace</h2>
      <p class="lead">Jsme parta student≈Ø Provoznƒõ ekonomick√© fakulty Mendelovy univerzity, kte≈ô√≠ jsou zap√°len√≠ do modern√≠ch technologi√≠, marketingu a realitn√≠ho trhu. Pom√°h√°me podnik≈Øm i majitel≈Øm nemovitost√≠ naj√≠t ty spr√°vn√© z√°jemce.</p>
      <p>Sna≈æ√≠me se, aby cel√Ω proces, a≈• u≈æ jde o prodej ƒçi pron√°jem nemovitost√≠, nebo z√≠sk√°v√°n√≠ nov√Ωch z√°kazn√≠k≈Ø pro v√°≈° byznys, byl co nejjednodu≈°≈°√≠ a z√°rove≈à co nejefektivnƒõj≈°√≠.</p>
      <p>V√≠me, ≈æe ƒças je drah√Ω, proto za v√°s kompletnƒõ zajist√≠me v≈°echny slu≈æby, abyste se mohli soust≈ôedit na to, co um√≠te nejl√©pe.</p>
      <div class="kpis">
        <div class="kpi">Virtu√°ln√≠ prohl√≠dky</div>
        <div class="kpi">Marketing</div>
        <div class="kpi">Brno/Svitavy & cel√°&nbsp;ƒåR</div>
      </div>
      <p style="margin-top:12px">
        <a href="galerie.html" class="btn btn--outline">Uk√°zky pr√°ce</a>
        <a href="#kontakt" class="btn btn--accent">Chci nez√°vaznou popt√°vku</a>
      </p>
    </div>

    <div>
      <img src="CAM05637G0-PR0005-STILL001.jpg" alt="T√Ωm ShowSpace ‚Äì ilustraƒçn√≠ foto">
    </div>
  </div>
</section>

<!-- KONTAKT ‚Äì dvƒõ karty -->
<section id="kontakt" class="section contact">
  <div class="container contact-grid">

    <!-- INFO KARTA -->
    <div class="contact-card contact-info">
      <h2>Kontaktujte n√°s</h2>
      <p class="lead">Ozveme se s orientaƒçn√≠ cenou a term√≠nem.</p>

      <ul class="contact-list">
        <li class="contact-item">
          <div class="contact-ico">
            <svg viewBox="0 0 24 24"><path d="M6.6 10.8a15.1 15.1 0 0 0 6.6 6.6l2.2-2.2c.3-.3.7-.4 1.1-.3 1 .3 2 .5 3 .6.6.1 1 .6 1 1.2V20a2 2 0 0 1-2.2 2 18 18 0 0 1-16-16A2 2 0 0 1 4 3h3.1c.6 0 1.1.4 1.2 1 .1 1 .3 2 .6 3 .1.4 0 .8-.3 1.1l-2 2.2z"/></svg>
          </div>
          <div>
            <strong>Telefon</strong>
            <a href="tel:+420123456789">+420 123 456 789</a>
          </div>
        </li>

        <li class="contact-item">
          <div class="contact-ico">
            <svg viewBox="0 0 24 24"><path d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2zm0 3-8 5L4 7V6l8 5 8-5v1z"/></svg>
          </div>
          <div>
            <strong>E-mail</strong>
            <a href="mailto:info@showspace.cz">info@showspace.cz</a>
          </div>
        </li>

        <li class="contact-item">
          <div class="contact-ico">
            <svg viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 5.2 7 13 7 13s7-7.8 7-13a7 7 0 0 0-7-7zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5z"/></svg>
          </div>
          <div>
            <strong>S√≠dlo</strong>
            Petrusova 2213/15, 56802 Svitavy
          </div>
        </li>

        <li class="contact-item">
          <div class="contact-ico">
            <svg viewBox="0 0 24 24"><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></svg>
          </div>
          <div>
            <strong>Fakturaƒçn√≠ √∫daje</strong>
            IƒåO: 23631741 ‚Ä¢ DIƒå: CZ23631741<br>
            Spisov√° znaƒçka: C 55194, KS Hradec Kr√°lov√©
          </div>
        </li>
      </ul>
    </div>

    <!-- FORM KARTA -->
    <div class="contact-card contact-form">
      <h2>Napi≈°te n√°m</h2>
      <form action="https://formspree.io/f/mjkorjrk" method="POST">
        <div class="form-grid">
          <input class="full" name="jmeno" placeholder="Jm√©no a p≈ô√≠jmen√≠" required>
          <input name="email" type="email" placeholder="E-mail" required>
          <input name="telefon" placeholder="Telefon">
          <textarea class="full" name="zprava" rows="5" placeholder="Struƒçnƒõ popi≈°te projekt"></textarea>
        </div>

        <div style="display:flex; gap:12px; align-items:center; margin-top:10px;">
          <button class="btn btn--accent" type="submit">Odeslat popt√°vku</button>
          <small class="help">Odesl√°n√≠m souhlas√≠te se zpracov√°n√≠m √∫daj≈Ø pro vy≈ô√≠zen√≠ popt√°vky.</small>
        </div>
      </form>
    </div>

  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container footer-wrap">
    <div class="footer-left">
      ¬© ShowSpace <span id="y"></span> ‚Ä¢ <a href="gdpr.html">Z√°sady ochrany osobn√≠ch √∫daj≈Ø</a>
    </div>
    <div class="footer-social" aria-label="Soci√°ln√≠ s√≠tƒõ">
      <a href="https://facebook.com/showspace" target="_blank" rel="noopener" aria-label="Facebook" title="Facebook">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
          <path d="M22 12a10 10 0 1 0-11.5 9.9v-7h-2v-3h2v-2c0-2 1.2-3 3-3 .9 0 1.8.1 1.8.1v2h-1c-1 0-1.3.6-1.3 1.2V12h2.5l-.4 3h-2.1v7A10 10 0 0 0 22 12"/>
        </svg>
      </a>
      <a href="https://www.instagram.com/showspace.cz/" target="_blank" rel="noopener" aria-label="Instagram" title="Instagram">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
          <path d="M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6-1.8a1.2 1.2 0 1 0 0 2.4 1.2 1.2 0 0 0 0-2.4z"/>
        </svg>
      </a>
      <a href="https://www.tiktok.com/@show.space360" target="_blank" rel="noopener" aria-label="TikTok" title="TikTok">
        <svg viewBox="0 0 24 24" width="22" height="22" fill="currentColor" aria-hidden="true">
          <path d="M21 8.5a7.5 7.5 0 0 1-4.6-1.6v7.6a5.5 5.5 0 1 1-5.5-5.5c.2 0 .4 0 .6.1v2.6a2.9 2.9 0 1 0 2.9 2.9V2h2.2c.3 1.2 1 2.3 1.9 3.1A5.3 5.3 0 0 0 21 6.5v2z"/>
        </svg>
      </a>
    </div>
  </div>
  <script>document.getElementById('y').textContent = new Date().getFullYear()</script>
</footer>

<!-- TO TOP -->
<div id="toTop" title="Zpƒõt nahoru">‚Üë</div>

<!-- Skripty (stejn√© jako d≈ô√≠v) -->
<script>
(() => {
  const toTop = document.getElementById("toTop");
  if (!toTop) return;
  window.addEventListener("scroll", () => {
    if (window.scrollY > 200) toTop.classList.add("show");
    else toTop.classList.remove("show");
  }, { passive: true });
  toTop.addEventListener("click", () => window.scrollTo({ top: 0, behavior: "smooth" }));
})();
</script>

<script>
/* Dropdown ‚ÄûSlu≈æby‚Äú */
(() => {
  const toggle = document.querySelector('.menu-toggle');
  const menu = document.getElementById('submenu-sluzby');
  if(!toggle || !menu) return;

  const open = () => { toggle.setAttribute('aria-expanded','true'); menu.classList.add('show'); };
  const close = () => { toggle.setAttribute('aria-expanded','false'); menu.classList.remove('show'); };
  const isOpen = () => toggle.getAttribute('aria-expanded') === 'true';

  toggle.addEventListener('click', (e)=>{ e.stopPropagation(); isOpen() ? close() : open(); });
  document.addEventListener('click', (e)=>{ if(isOpen() && !toggle.contains(e.target) && !menu.contains(e.target)) close(); });
  document.addEventListener('keydown', (e)=>{ if(e.key === 'Escape' && isOpen()) { close(); toggle.focus(); } });
  menu.querySelectorAll('a').forEach(a=> a.addEventListener('click', close));
})();
</script>

<script>
/* BENEFITY ƒç√≠sla */
(() => {
  const section = document.getElementById('benefity');
  if (!section) return;
  const counters = section.querySelectorAll('.counter');
  if (!counters.length) return;

  let played = false;
  function animateCounter(el, target, duration = 1200) {
    const t0 = performance.now();
    function frame(now) {
      const p = Math.min((now - t0) / duration, 1);
      const eased = 1 - Math.pow(1 - p, 3);
      el.textContent = Math.round(target * eased);
      if (p < 1) requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  }
  const reduceMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (reduceMotion) { counters.forEach(c => c.textContent = c.dataset.target || c.textContent); return; }
  if ('IntersectionObserver' in window) {
    const io = new IntersectionObserver(entries => {
      entries.forEach(e => {
        if (e.isIntersecting && !played) {
          played = true;
          counters.forEach(c => animateCounter(c, parseInt(c.dataset.target || '0', 10) || 0));
          io.disconnect();
        }
      });
    }, { threshold: 0.25 });
    io.observe(section);
  } else {
    counters.forEach(c => animateCounter(c, parseInt(c.dataset.target || '0', 10) || 0));
  }
})();
</script>

<script>
/* VTOUR ‚Äì loop + bg + text (beze zmƒõn) */
(() => {
  const root = document.getElementById('vtour');
  if (!root) return;

  const viewport = root.querySelector('.vt-viewport');
  const strip    = root.querySelector('.vt-strip');
  const nextBtn  = root.querySelector('.vt-next');
  const prevBtn  = root.querySelector('.vt-prev');

  const copyBox  = document.getElementById('vt-copy');
  const titleEl  = document.getElementById('vt-title');
  const descEl   = document.getElementById('vt-desc');
  const linkEl   = document.getElementById('vt-link');

  const originals = [...strip.querySelectorAll('.vt-card')];
  let current = 0;
  let visible = 3;
  let cards = [];

  const calcVisible = () => window.innerWidth <= 640 ? 1 : (window.innerWidth <= 980 ? 2 : 3);

  function rebuild() {
    visible = calcVisible();
    strip.innerHTML = '';
    const head = originals.slice(0, visible).map(n => n.cloneNode(true));
    const tail = originals.slice(-visible).map(n => n.cloneNode(true));
    tail.forEach(n => strip.appendChild(n));
    originals.forEach(n => strip.appendChild(n.cloneNode(true)));
    head.forEach(n => strip.appendChild(n));
    cards = [...strip.children];
    current = visible;
    centerOn(current, false);
    updateUI();
  }

  function centerOn(idx, animate = true) {
    const card = cards[idx]; if (!card) return;
    const cardCenter = card.offsetLeft + card.offsetWidth / 2;
    const vpCenter   = viewport.clientWidth / 2;
    const offset     = -(cardCenter - vpCenter);
    strip.style.transition = animate ? 'transform .55s cubic-bezier(.22,.61,.36,1)' : 'none';
    strip.style.transform  = `translateX(${offset}px)`;
    if (animate) updateUI(true);
  }

  function normalize() {
    const total = originals.length;
    if (current < visible) { current += total; centerOn(current, false); }
    if (current >= visible + total) { current -= total; centerOn(current, false); }
    updateUI();
  }

  function go(delta){ current += delta; centerOn(current, true); }

  function updateUI(fade=false){
    const total = originals.length;
    const realIndex = (current - visible + total) % total;
    const realCard  = originals[realIndex];
    const liveCard  = cards[current];

    const bg   = realCard.dataset.bg || realCard.querySelector('img')?.getAttribute('src');
    const t    = realCard.dataset.title || 'Virtu√°ln√≠ prohl√≠dka';
    const d    = realCard.dataset.desc  || 'Prohl√≠dka v nov√© z√°lo≈æce.';
    const href = realCard.getAttribute('href') || '#';

    if (bg) root.style.setProperty('--vtbg', `url("${bg}")`);

    if (fade) copyBox.classList.add('swap-out');
    if (fade) {
      setTimeout(() => {
        titleEl.textContent = t; descEl.textContent = d; linkEl.href = href;
        copyBox.classList.remove('swap-out');
      }, 120);
    } else {
      titleEl.textContent = t; descEl.textContent = d; linkEl.href = href;
    }

    cards.forEach(c => c.classList.remove('is-center'));
    if (liveCard) liveCard.classList.add('is-center');
  }

  nextBtn.addEventListener('click', () => go(+1));
  prevBtn.addEventListener('click', () => go(-1));
  strip.addEventListener('transitionend', normalize);
  window.addEventListener('resize', () => {
    const before = visible, now = calcVisible();
    if (before !== now) rebuild(); else centerOn(current, false);
  });

  rebuild();
})();
</script>

</body>
</html>
